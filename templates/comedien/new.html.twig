{% extends 'base.html.twig' %}

{% block title %}Nouveau Comédien{% endblock %}

{% block body %}
    <div class="container container-sm">
        <div class="row justify-content-center align-items-center" style="height:100vh">
            <div class="col-lg-6 col-md-12">
                {% if not form.vars.valid %}
                    <ul class="alert alert-danger">
                        {# on affiche en premier les erreurs globales (cas classiques) #}
                        {% for error in form.vars.errors %}
                            <li>{{error.message}}</li>
                        {% endfor %}
                        {# ainsi que les erreurs concernant chaque champs #}
                        {% for child in form.children %}
                            {# si le champ à des erreur #}
                            {% if child.vars.errors is defined %}
                                {% for error in child.vars.errors %}
                                    <li>{{child.vars.label|upper}} : {{error.message}} </li> {# on ajoute le label du champ devant l'erreur pour plus de précisions. #}
                                {% endfor %}
                            {% endif %}
                        {% endfor %}
                    </ul>
                {% endif %}
                <h1 class="mb-4">Nouveau comédien</h1>

                {{ form_start(form) }}


                <div class="row mb-3">
                    <div class="cache-message col-sm-12 col-lg-6 mb-3 mb-sm-0">
                        {{ form_row(form.nom) }}

                    </div>

                    <div class="cache-message col-sm-12 col-lg-6">
                        {{ form_row(form.prenom) }}

                    </div>
                </div>

                <div class="row mb-3">
                    <div class="cache-message col-sm-12 col-lg-6 mb-3 mb-sm-0">
                        {{ form_row(form.telephone, {'attr': {'data-telephone': ''}}) }}
                    </div>

                    <div class="cache-message col-sm-12 col-lg-6">
                        {{ form_row(form.email) }}

                    </div>
                </div>

                <div class="row mb-3">
                    <div class="cache-message col-sm-12 col-lg-6 mb-3 mb-sm-0">
                        {{ form_row(form.age) }}

                    </div>

                    <div class="cache-message col-sm-12 col-lg-6">
                        {{ form_row(form.sexe) }}

                    </div>
                </div>

                {{ form_row(form.type) }}

                {{ form_row(form.imageFile)}}


                <div class="cache-message d-flex justify-content-between">
                    <a class="btn btn-danger" href="{{ path('app_comedien_index') }}">Retour à la liste</a>
                    {{ form_row(form.submit) }}
                </div>

                {{ form_end(form) }}
            </div>
        </div>
    </div>
{% endblock %}
